<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <!--  This file has been downloaded from bootdey.com    @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->
    <!--
      The codes are free, but we require linking to our web site.
      Why to Link?
      A true story: one girl didn't set a link and had no decent date for two years, and another guy set a link and got a top ranking in Google!
      Where to Put the Link?
      home, about, credits... or in a good page that you want
      THANK YOU MY FRIEND!
    -->
    <title>chat room - Bootdey.com</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
    <script type="text/javascript" src="//code.jquery.com/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="static/main.css">
    <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/socket.io/1.3.6/socket.io.min.js"></script>

    <script src="/static/jquery.nameBadges.js"></script>
    <script type="text/javascript" charset="utf-8">
        var socket;
        $(document).ready(function() {
          function createMessage(authorName, message, time){
            var html = '<li class="left clearfix">'
            html += '<div class="name">' + authorName +'</div>'
            html +='<div class="chat-body1 clearfix">'
            html += '<p>' + message + '</p>'
            html += '<div class="chat_time pull-right">' + time + '</div></div></li>'
            $('#messageChat').append(html)
            $('.name').nameBadge({
                border: {
                          color: '#ddd',
                          width: 3
                        },
                colors: ['#a3a948'],
                text: '#fff',
                size: 50,
                margin: 5,
                middlename: true,
                uppercase: false
              });

          }
          var namespace = '/test';
          var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port + namespace);
          socket.on('connect', function() {
                // socket.emit('message', {data: 'I\'m connected!'});
            });
          socket.on('response', function(msg) {
                console.log(msg)
                createMessage(msg.username, msg.data, msg.datetime)
                $('.chat_area').scrollTop($('.chat_area')[0].scrollHeight);
            });
          $('#sendMessage').click(function(e) {
            e.preventDefault();
              socket.emit('message', {data: $('#messageText').val()});
              $('#messageText').val('');
            });
          });
</script>
</head>
<script src="https://use.fontawesome.com/45e03a14ce.js"></script>
<div class="main_section">
   <div class="container">
      <div class="chat_container">
         <div class="col-sm-3 chat_sidebar">
       <div class="row">
            <div id="custom-search-input">
               <div class="input-group col-md-12">
                  <input type="text" class="  search-query form-control" placeholder="Conversation" />
                  <button class="btn btn-danger" type="button">
                  <span class=" glyphicon glyphicon-search"></span>
                  </button>
               </div>
            </div>
            <div class="dropdown all_conversation">
               <button class="dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
               <i class="fa fa-weixin" aria-hidden="true"></i>
               All Conversations
               <span class="caret pull-right"></span>
               </button>
               <ul class="dropdown-menu" aria-labelledby="dropdownMenu2">
                  <li><a href="#"> All Conversation </a>  <ul class="sub_menu_ list-unstyled">
                  <li><a href="#"> All Conversation </a> </li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </li>
                  <li><a href="#">Another action</a></li>
                  <li><a href="#">Something else here</a></li>
                  <li><a href="#">Separated link</a></li>
               </ul>
            </div>
            <div class="member_list">
               <ul class="list-unstyled">

               </ul>
            </div></div>
         </div>
         <!--chat_sidebar-->


         <div class="col-sm-9 message_section">
       <div class="row">
       <div class="new_message_head">
       <div class="pull-left"><button><i class="fa fa-plus-square-o" aria-hidden="true"></i> New Message</button></div><div class="pull-right"><div class="dropdown">
  <button class="dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class="fa fa-cogs" aria-hidden="true"></i>  Setting
    <span class="caret"></span>
  </button>
  <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu1">
    <li><a href="#">Action</a></li>
    <li><a href="#">Profile</a></li>
    <li><a href="#">Logout</a></li>
  </ul>
</div></div>
       </div><!--new_message_head-->

       <div class="chat_area">
       <ul class="list-unstyled" id='messageChat'>
       
       </ul>
       </div><!--chat_area-->
          <div class="message_write">
           <textarea class="form-control" id='messageText' placeholder="type a message"></textarea>
             <div class="clearfix"></div>
               <div class="chat_bottom">
                <a href="#" class="pull-right btn btn-success" >Send</a>
                <button type="button" class="btn btn-default" id='sendMessage'>Default</button>
               </div>
             </div>
           </div>
         </div> <!--message_section-->
      </div>
   </div>
</div>
</body>
<body>
</html>